(this.webpackJsonptodos=this.webpackJsonptodos||[]).push([[0],[,,,,,,,,function(t,e,n){t.exports=n(18)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),c=n(3),r=n.n(c),i=(n(13),n(1)),u=n(4),d=n(5),s=n(7),l=n(6);n(14);var h=function(t){return a.a.createElement("form",{onSubmit:t.onSubmit},a.a.createElement("input",{type:"text",placeholder:"Add a Todo",value:t.todo,onChange:t.onChange}))};n(15);var m=function(t){var e=t.completed?"completed ":"";return a.a.createElement("li",{className:"todo-item"},a.a.createElement("span",{onClick:t.onClickToggle,className:e},t.name),a.a.createElement("span",{onClick:t.onClickRemove,className:"todo-item__remove-icon"},"\xd7"))},p=function(t){return new Promise((function(e,n){fetch("https://ds-dev-todo-api.herokuapp.com/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}).then((function(t){return t.json()})).then(e).catch(n)}))},f=function(t){return new Promise((function(e,n){fetch("".concat("https://ds-dev-todo-api.herokuapp.com/api/todos","/").concat(t),{method:"DELETE"}).then((function(t){return t.json()})).then(e).catch(n)}))},v=function(t,e){return new Promise((function(n,o){fetch("".concat("https://ds-dev-todo-api.herokuapp.com/api/todos","/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!e.completed})}).then((function(t){return t.json()})).then(n).catch(o)}))},g=(n(16),function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(u.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={todos:[],todo:""},t.handleCreateTodo=function(e){e.preventDefault(),p(t.state.todo).then((function(e){t.setState((function(t){var n=t.todos.map((function(t){return Object(i.a)({},t)}));return n.push(e),{todos:n}}))})).catch(console.error),t.setState({todo:""})},t.handleCreateTodoInput=function(e){t.setState({todo:e.target.value})},t.handleDeleteTodo=function(e){f(e).then((function(e){t.setState((function(t){return{todos:t.todos.map((function(t){return Object(i.a)({},t)})).filter((function(t){return t._id!==e._id}))}}))})).catch(console.error)},t.handleToggleTodo=function(e){var n=t.state.todos.find((function(t){return t._id===e}));v(e,n).then((function(e){t.setState((function(t){return{todos:t.todos.map((function(t){return t._id===e._id?e:Object(i.a)({},t)}))}}))})).catch(console.error)},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("https://ds-dev-todo-api.herokuapp.com/api/todos").then((function(t){return t.json()})).then((function(e){return t.setState({todos:e})})).catch(console.error)}},{key:"render",value:function(){var t=this,e=this.state.todos.map((function(e){return a.a.createElement(m,{key:e._id,name:e.name,completed:e.completed,onClickRemove:t.handleDeleteTodo.bind(t,e._id),onClickToggle:t.handleToggleTodo.bind(t,e._id)})}));return a.a.createElement("div",null,a.a.createElement("h1",null,"TodoList"),a.a.createElement(h,{onSubmit:this.handleCreateTodo,onChange:this.handleCreateTodoInput,todo:this.state.todo}),a.a.createElement("ul",null,e))}}]),n}(a.a.Component));n(17);var T=function(){return a.a.createElement("main",{className:"app"},a.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.433a39f0.chunk.js.map