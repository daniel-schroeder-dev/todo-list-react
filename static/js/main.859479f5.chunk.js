(this.webpackJsonptodos=this.webpackJsonptodos||[]).push([[0],[,,,,,,,,function(t,e,o){t.exports=o(18)},,,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),c=o(3),r=o.n(c),i=(o(13),o(1)),s=o(4),d=o(5),u=o(7),l=o(6);o(14);var m=function(t){return a.a.createElement("form",{className:"todo-form",onSubmit:t.onSubmit},a.a.createElement("input",{className:"todo-form__input",type:"text",placeholder:"Add a todo",value:t.todo,onChange:t.onChange}))};o(15);var h=function(t){var e=t.completed?"completed ":"";return a.a.createElement("li",{className:e+"todo-item"},a.a.createElement("span",{onClick:t.onClickToggle,className:e+"todo-item__name"},t.name),a.a.createElement("span",{onClick:t.onClickRemove,className:"todo-item__remove-icon"},"\xd7"))},p=function(t){return new Promise((function(e,o){fetch("https://ds-dev-todo-api.herokuapp.com/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}).then((function(t){return t.json()})).then(e).catch(o)}))},f=function(t){return new Promise((function(e,o){fetch("".concat("https://ds-dev-todo-api.herokuapp.com/api/todos","/").concat(t),{method:"DELETE"}).then((function(t){return t.json()})).then(e).catch(o)}))},v=function(t,e){return new Promise((function(o,n){fetch("".concat("https://ds-dev-todo-api.herokuapp.com/api/todos","/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!e.completed})}).then((function(t){return t.json()})).then(o).catch(n)}))},_=(o(16),function(t){Object(u.a)(o,t);var e=Object(l.a)(o);function o(){var t;Object(s.a)(this,o);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={todos:[],todo:""},t.handleCreateTodo=function(e){e.preventDefault(),p(t.state.todo).then((function(e){t.setState((function(t){var o=t.todos.map((function(t){return Object(i.a)({},t)}));return o.push(e),{todos:o}}))})).catch(console.error),t.setState({todo:""})},t.handleCreateTodoInput=function(e){t.setState({todo:e.target.value})},t.handleDeleteTodo=function(e){f(e).then((function(e){t.setState((function(t){return{todos:t.todos.map((function(t){return Object(i.a)({},t)})).filter((function(t){return t._id!==e._id}))}}))})).catch(console.error)},t.handleToggleTodo=function(e){var o=t.state.todos.find((function(t){return t._id===e}));v(e,o).then((function(e){t.setState((function(t){return{todos:t.todos.map((function(t){return t._id===e._id?e:Object(i.a)({},t)}))}}))})).catch(console.error)},t}return Object(d.a)(o,[{key:"componentDidMount",value:function(){var t=this;fetch("https://ds-dev-todo-api.herokuapp.com/api/todos").then((function(t){return t.json()})).then((function(e){return t.setState({todos:e})})).catch(console.error)}},{key:"render",value:function(){var t=this,e=this.state.todos.map((function(e){return a.a.createElement(h,{key:e._id,name:e.name,completed:e.completed,onClickRemove:t.handleDeleteTodo.bind(t,e._id),onClickToggle:t.handleToggleTodo.bind(t,e._id)})}));return a.a.createElement("div",{className:"todo-list"},a.a.createElement("h1",{className:"todo-list__site-title"},a.a.createElement("span",{className:"todo-list__site-title__first-word"},"todo"),"List"),a.a.createElement(m,{onSubmit:this.handleCreateTodo,onChange:this.handleCreateTodoInput,todo:this.state.todo}),a.a.createElement("ul",{className:"todo-list__todos"},e))}}]),o}(a.a.Component));o(17);var g=function(){return a.a.createElement("main",{className:"app"},a.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.859479f5.chunk.js.map